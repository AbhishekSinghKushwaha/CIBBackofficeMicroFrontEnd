<app-profile-management-top-nav
  title="Add Users"
  toolbarPage="Corporate Onboarding"
></app-profile-management-top-nav>

<form action="">
  <mat-accordion multi>
    <mat-expansion-panel
      [expanded]="panelOpenState.userDetails === true"
      (opened)="(panelOpenState.userDetails === true)"
    >
      <mat-expansion-panel-header class="panel-header">
        <mat-panel-title>
          <h2 class="bullets">1</h2>
          <h2>User 1</h2>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-divider></mat-divider>
      <!-- User Details -->
      <div class="d-flex flex-column mt-3 mb-3">
        <div class="row pt-4">
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>Full Name</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>Email</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>ID/PP</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>Phone Number</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>Phone Office</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>CIF Number</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>GCIF</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field
              appearance="fill"
              style="width: 100%"
              floatLabel="always"
            >
              <mat-label>Corporate Profile</mat-label>
              <input matInput />
            </mat-form-field>
          </div>
        </div>
      </div>

      <mat-divider></mat-divider>

      <!-- Roles -->
      <div class="mt-3 mb-5">
        <h3 class="mb-3">Roles</h3>
        <mat-expansion-panel
          class="mb-2"
          *ngFor="let role of roles; let i = index"
          [expanded]="panelOpenState.roles === true && i === 0"
          (opened)="(panelOpenState.roles === true)"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h2 class="fw-bold">
                <mat-checkbox color="primary" [checked]="i === 0">{{
                  role?.description
                }}</mat-checkbox>
              </h2>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="d-flex flex-column">
            <div class="row">
              <div
                class="col-md-3 m-3"
                *ngFor="let permission of role?.permissions"
              >
                <mat-checkbox color="primary">{{
                  permission?.description
                }}</mat-checkbox>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </div>

      <mat-divider></mat-divider>

      <!-- Products -->
      <div class="mt-3 mb-5">
        <h3 class="mb-3">
          Please select the products you want the user to access
        </h3>
        <mat-expansion-panel
          class="mb-2"
          *ngFor="let product of products; let i = index"
          [expanded]="panelOpenState.products === true && i === 0"
          (opened)="(panelOpenState.products === true)"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h2 class="fw-bold">
                <mat-checkbox color="primary" [checked]="i === 0">{{
                  product?.productName
                }}</mat-checkbox>
              </h2>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="d-flex flex-column">
            <div class="row">
              <div
                class="col-md-3 m-3"
                *ngFor="let service of product?.productServices"
              >
                <mat-checkbox color="primary">{{
                  service?.serviceName
                }}</mat-checkbox>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </div>

      <mat-divider></mat-divider>

      <!-- Accounts -->
      <div class="mt-3 mb-5">
        <h3 class="mb-3">Please select the accounts the user can access</h3>
        <mat-expansion-panel
          class="mb-2"
          [expanded]="panelOpenState.products === true"
          (opened)="(panelOpenState.products === true)"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              <h2>Accounts</h2>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="d-flex flex-column">
            <div class="row">
              <div
                class="col-md-3 m-3"
                *ngFor="let account of accounts; let i = index"
              >
                <mat-checkbox color="primary" [checked]="i === 0">{{
                  account?.accountName
                }}</mat-checkbox>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </div>

      <mat-divider></mat-divider>

      <!-- Transaction Limits -->
      <div class="mt-3 mb-3">
        <h3 class="mb-3">Please assign user transaction limits</h3>
        <div class="d-flex flex-column mt-3 mb-3">
          <div class="row pt-4">
            <div class="col-md-3">
              <mat-form-field
                appearance="fill"
                style="width: 100%"
                floatLabel="always"
              >
                <mat-label>Currency</mat-label>
                <input matInput />
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field
                appearance="fill"
                style="width: 100%"
                floatLabel="always"
              >
                <mat-label>Maximum Per Transaction</mat-label>
                <input matInput />
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field
                appearance="fill"
                style="width: 100%"
                floatLabel="always"
              >
                <mat-label>Daily Limit</mat-label>
                <input matInput />
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field
                appearance="fill"
                style="width: 100%"
                floatLabel="always"
              >
                <mat-label>Weekly Limit</mat-label>
                <input matInput />
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field
                appearance="fill"
                style="width: 100%"
                floatLabel="always"
              >
                <mat-label>Monthly Limit</mat-label>
                <input matInput />
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>

  <div class="mt-4 mb-4">
    <mat-card>
      <mat-card-header class="addition-button">
        <div class="d-flex flex-row pt-2" style="color: var(--equity)">
          <mat-icon>add</mat-icon>
          <p class="mx-3">Add Additional User</p>
        </div>
      </mat-card-header>
    </mat-card>
  </div>

  <div class="d-flex flex-row justify-content-between mt-4 mb-4">
    <div class="">
      <button mat-stroked-button color="primary">Quit</button>
    </div>
    <div>
      <button mat-raised-button (click)="saveAndContinue()" color="primary">
        Save & Continue
      </button>
    </div>
  </div>
</form>
